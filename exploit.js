const axios = require('axios');

const shopifyConfig = {
  Checkout: {
    Autocomplete: true,
    apiHost: 'eero-dev.myshopify.com',
    assetsPath: '//cdn.shopify.com/shopifycloud/shopify',
    DefaultAddressFormat: '{country}_{firstName}{lastName}_{company}_{address1}_{address2}_{city}{province}{zip}_{phone}',
    geolocatedAddress: {
      lat: 39.42339999999999,
      lng: -76.7762,
    },
    i18n: {
      orders: {
        order_updates: {
          title: 'Order updates',
        },
        complete_order: 'Complete order',
        pay_now: 'Pay now',
      },
      shipping_line: {
        pickup_in_store_label: 'Pickup',
        no_pickup_location: "Your order isn't available for pickup. Enter a shipping address.",
        shipping_label: 'Shipping',
        shipping_default_value: 'Calculated at next step',
        shipping_free_value: 'Free',
      },
      continue_button: {
        continue_to_shipping_method: 'Continue to shipping',
        continue_to_payment_method: 'Continue to payment',
      },
      qr_code: {
        title: 'Track on your phone',
        subtitle: 'Scan the code with your phoneâ€™s camera to track with Shop.',
        send_link_to_phone: 'Or send a link to your phone',
      },
    },
    locale: 'en',
    normalizedLocale: 'en',
    moneyFormat: '$ {{amount}}',
    page: 'show',
    releaseStage: 'production',
    deployStage: 'production',
    requiresShipping: true,
    step: 'contact_information',
    token: 'c06ffa2cb6a2ad2ae9d53f45084d7233',
    currency: 'USD',
    estimatedPrice: 439.99,
    dynamicCheckoutPaymentInstrumentsConfig: {
      paymentInstruments: {
        accessToken: 'bcf9c9fdb02055cb2477e6a5e65eaf9d',
        amazonPayConfig: null,
        applePayConfig: {
          shopId: 8704346,
          countryCode: 'US',
          currencyCode: 'USD',
          merchantCapabilities: ['supports3DS'],
          merchantId: 'gid://shopify/Shop/8704346',
          merchantName: 'eero Home WiFi System',
          requiredBillingContactFields: ['postalAddress', 'email'],
          requiredShippingContactFields: ['postalAddress', 'email'],
          shippingType: 'shipping',
          supportedNetworks: ['visa', 'masterCard', 'amex', 'jcb', 'discover', 'elo'],
          total: {
            type: 'pending',
            label: 'eero Home WiFi System',
            amount: '1.00',
          },
          shopifyPaymentsEnabled: false,
          supportsSubscriptions: false,
          walletAuthenticationToken:
            'eyJ0eXBlIjoiSldUIiwiYWxnIjoiSFMzODQifQ.eyJjaGVja291dF90b2tlbiI6ImMwNmZmYTJjYjZhMmFkMmFlOWQ1M2Y0NTA4NGQ3MjMzIiwib3JkZXJfdHlwZV9pZCI6Im9yZGVyLmNvbS5zaG9waWZ5LnNob3AiLCJpc3MiOiJzaG9waWZ5IiwiaWF0IjoxNjg1OTg3NTI3LCJleHAiOjE3MDE1Mzk1Mjd9.y8DZzdoNU64lMHtIH0fqFa4KaYfUxPSACKaTpVUN_dgKM94BlUzzU5W_n-5SjOpG',
          walletServiceUrl: 'https://wallet-order-service.shopifyapps.com',
          walletOrderTypeIdentifier: 'order.com.shopify.shop',
        },
        checkoutConfig: {
          domain: 'store.eero.com',
          shopId: 8704346,
        },
        shopifyPayConfig: null,
        currency: 'USD',
        googlePayConfig: null,
        locale: 'en',
        paypalConfig: {
          domain: 'store.eero.com',
          environment: 'production',
          merchantId: 'Q5QH464MNQDBJ',
          buttonVersion: 'v3',
          venmoSupported: true,
          locale: 'en_US',
          shopId: 8704346,
          supportsSubscriptions: null,
          supportsDeferredPurchaseOptions: null,
        },
        offsiteConfigs: null,
        supportsDiscounts: true,
        supportsGiftCards: false,
        checkoutDisabled: false,
      },
    },
    applePayConfig: null,
    hasSellingPlan: false,
    customer: {},
    requiresConfirmationStep: true,
    cartToken: null,
    isCheckoutOne: true,
  },
  ShopifyExperiments: {
    AutocompleteServiceApiHost: 'https://atlas.shopifysvc.com',
  },
  ShopifyPay: {
    enabled: false,
    apiHost: 'shop.app/pay',
    apiToken: 'RjVaOHBTSEZoUG94NTBOZmZXaXUzU1R0MEpBbjRYejFFSWNwSStqQ2FPSWwvd25ZcDk0UlQ1SjhLOFBSc2Q0by0tNVNRenkwZVFsMDNCSytUaDRuS2pwZz09--2295cdbc07c32b833137c6eb0fba938cadec1dfd',
  },
  Shopify: {
    houseNumberNudgeCountries: ['AR', 'AU', 'AT', 'BE', 'BR', 'CA', 'CL', 'CO', 'CZ', 'DK', 'EE', 'FI', 'FR', 'DE', 'HK', 'HU', 'IL', 'IT', 'JP', 'LV', 'MY', 'MX', 'NL', 'NZ', 'PL', 'PT', 'RO', 'RU', 'SG', 'ZA', 'ES', 'SE', 'CH', 'TR', 'AE', 'GB', 'US'],
    houseNumberMayBeInAddress2: ['DE', 'NL', 'ES'],
    autocompleteEnabledCountries: ['AU', 'AT', 'BE', 'BR', 'CA', 'DK', 'FR', 'DE', 'HK', 'IN', 'IT', 'JP', 'LU', 'NL', 'NZ', 'NO', 'SA', 'SG', 'ES', 'SE', 'CH', 'GB', 'US'],
  },
};

async function makeShopifyRequest(endpoint, data) {
  try {
    const response = await axios.post(`https://${shopifyConfig.Checkout.apiHost}${endpoint}`, data);
    return response.data;
  } catch (error) {
    console.error('Error making Shopify request:', error.message);
    throw error;
  }
}

const requestData = {
  recipient: 'your-email@example.com',
  amount: 100,
  currency: 'USD',
};

makeShopifyRequest('/send-money', requestData)
  .then((response) => {
    console.log('Money sent successfully:', response);
  })
  .catch((error) => {
    console.error('Failed to send money:', error);
  });
